[gd_scene load_steps=28 format=3 uid="uid://c2oem0xbwu8il"]

[ext_resource type="Script" uid="uid://dmdelik4k1l8k" path="res://scripts/town/FPSPlayerController.gd" id="1_jwflj"]
[ext_resource type="Script" uid="uid://cn3d51rgqs4tk" path="res://scripts/town/InteractRaycaster.gd" id="2_05x0s"]
[ext_resource type="Script" path="res://scripts/town/TerritoryManagerNPC.gd" id="3_rkekh"]
[ext_resource type="Script" uid="uid://b00rs8hjlyp38" path="res://scripts/town/ShopkeeperNPC.gd" id="4_frdus"]
[ext_resource type="Script" path="res://scripts/mine/MineEntrance.gd" id="5_lhytc"]
[ext_resource type="PackedScene" path="res://scenes/world/Player.tscn" id="6_nrh5w"]
[ext_resource type="Script" path="res://scripts/town/FarmAreaNPC.gd" id="7_farm"]
[ext_resource type="Script" path="res://scripts/town/FarmGate.gd" id="8_farmgate"]
[ext_resource type="Script" path="res://scripts/garden/GardenArea.gd" id="9_xrxw0"]
[ext_resource type="Script" path="res://scripts/town/TavernGate.gd" id="10_gate"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_jwflj"]
radius = 0.3
height = 1.6

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rkekh"]
albedo_color = Color(0.6545553, 0.00031997325, 0.6545508, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_rkekh"]
material = SubResource("StandardMaterial3D_rkekh")

[sub_resource type="SphereShape3D" id="SphereShape3D_yraqk"]
radius = 1.2

[sub_resource type="SphereShape3D" id="SphereShape3D_nqbh4"]
radius = 1.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_frdus"]
albedo_color = Color(0.5431634, 0.0002117753, 0.54315954, 1)

[sub_resource type="BoxMesh" id="BoxMesh_rkekh"]
material = SubResource("StandardMaterial3D_frdus")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yraqk"]
albedo_color = Color(1.5762821e-06, 0.41603082, 0.10017059, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_jwflj"]
material = SubResource("StandardMaterial3D_yraqk")

[sub_resource type="BoxShape3D" id="BoxShape3D_jwflj"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxMesh" id="BoxMesh_jwflj"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tdgkj"]
height = 3.0
radius = 1.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_garden_soil"]
albedo_color = Color(0.278377, 0.175335, 0.0899378, 1)

[node name="TownWorld" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("6_nrh5w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="TownZones" type="Node3D" parent="."]

[node name="VillageSquare" type="Node3D" parent="TownZones"]

[node name="ForestArea" type="Node3D" parent="TownZones"]

[node name="MineArea" type="Node3D" parent="TownZones"]

[node name="MineEntrance" type="Area3D" parent="TownZones/MineArea" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.5, 0, -6)
script = ExtResource("5_lhytc")
run_controller_path = NodePath("../../../../MineWorld/MineRunController")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TownZones/MineArea/MineEntrance"]
shape = SubResource("CylinderShape3D_tdgkj")

[node name="MineLabel" type="Label3D" parent="TownZones/MineArea/MineEntrance"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.2, 0)
text = "Bánya bejárat (E)"

[node name="GardenArea" type="Node3D" parent="TownZones"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 6)
script = ExtResource("9_xrxw0")

[node name="TownNPCs" type="Node3D" parent="."]

[node name="ShopkeeperNPC" type="Node3D" parent="TownNPCs" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.371931, 0.42457223, 4.025354)
script = ExtResource("4_frdus")

[node name="Area3D" type="Area3D" parent="TownNPCs/ShopkeeperNPC" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="TownNPCs/ShopkeeperNPC/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.9139304, 0)
shape = SubResource("SphereShape3D_nqbh4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TownNPCs/ShopkeeperNPC"]
mesh = SubResource("BoxMesh_rkekh")

[node name="Bolt" type="Label3D" parent="TownNPCs/ShopkeeperNPC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.548759, 0)

[node name="TeruletMenedzserNPC" type="Node3D" parent="TownNPCs" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0, -3.6)
script = ExtResource("3_rkekh")
shop_panel_path = NodePath("/root/Main/UIRoot/ShopkeeperIngredientsPanel")
land_controller_path = NodePath("/root/Main/WorldRoot/FarmWorld/FarmLandController")
farm_world_controller_path = NodePath("/root/Main/WorldRoot/FarmWorld")

[node name="TestMesh" type="MeshInstance3D" parent="TownNPCs/TeruletMenedzserNPC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_rkekh")

[node name="Area3D" type="Area3D" parent="TownNPCs/TeruletMenedzserNPC" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="TownNPCs/TeruletMenedzserNPC/Area3D"]
shape = SubResource("SphereShape3D_yraqk")

[node name="Label3D" type="Label3D" parent="TownNPCs/TeruletMenedzserNPC"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.2, 0)
text = "Területmenedzser (E)"

[node name="FarmGate" type="Area3D" parent="TownZones" groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 2.5)
script = ExtResource("8_farmgate")
land_controller_path = NodePath("/root/Main/WorldRoot/FarmWorld/FarmLandController")
farm_world_controller_path = NodePath("/root/Main/WorldRoot/FarmWorld")

[node name="CollisionShape3D" type="CollisionShape3D" parent="TownZones/FarmGate"]
shape = SubResource("SphereShape3D_nqbh4")

[node name="Label3D" type="Label3D" parent="TownZones/FarmGate"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
text = "Farm kapu (E)"

[node name="TownGateToTavern" type="Area3D" parent="." groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0)
script = ExtResource("10_gate")
travel_manager_path = NodePath("../../../CoreRoot/TravelTransitionManager")
cel_vilag_path = NodePath("../../TavernWorld")
spawn_jelolo = "Spawns/TavernEntryFromTown"

[node name="CollisionShape3D" type="CollisionShape3D" parent="TownGateToTavern"]
shape = SubResource("SphereShape3D_yraqk")

[node name="Label3D" type="Label3D" parent="TownGateToTavern"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)
text = "Kocsma kapu (E)"
pixel_size = 0.0075
billboard = 2

[node name="Spawns" type="Node3D" parent="."]

[node name="TownEntryFromTavern" type="Marker3D" parent="Spawns"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 2, 0)

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(50, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource("PlaneMesh_jwflj")

[node name="GroundBody" type="StaticBody3D" parent="Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/GroundBody"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_jwflj")

[node name="MarkerCube" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 5)
visible = false
mesh = SubResource("BoxMesh_jwflj")
